import{_ as y}from"./FreelanceLayout-e4d9a519.js";import{E as F,d as j,T as B,m as a,e as r,a as e,b as o,w as c,u as d,F as C,j as U,q as V,o as m,z,O as E}from"./app-353d923a.js";import"./MainSidebarF-6037fd10.js";import"./userInfo-b89e03cb.js";const O={class:"flex flex-col min-h-screen gap-6 px-4 lg:mx-auto md:p-6 md:max-w-7xl md:container px-auto bg-inherit"},R={class:"flex flex-col"},S={class:"flex","aria-label":"Breadcrumb"},T={class:"inline-flex items-center space-x-1 md:space-x-3"},$={class:"inline-flex items-center"},A=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})],-1),N=e("span",{class:"ml-2"}," Retour ",-1),M=V('<li aria-current="page"><div class="flex items-center"><svg class="w-3 h-3 mx-1 text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"></path></svg><span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">Realisations-Ajout</span></div></li>',1),q=e("h1",{class:"mt-4 text-3xl font-bold text-black dark:text-white"},"Realisations Ajout",-1),I={class:"flex flex-col mt-4"},L=e("div",{class:""},null,-1),P={class:"grid grid-cols-1 lg:grid-cols-2 mb-6 lg:mb-0 gap-6"},D={class:"lg:col-span-2 card"},G={class:"flex flex-col items-start justify-start py-4"},H={class:"flex flex-wrap mt-4 space-x-2"},J={class:"flex-flex-wrap"},K={class:"relative group"},Q=["src","alt"],W={class:"absolute top-0 right-0 mt-2 mr-2"},X={class:"lg:col-span-1 card"},Y={class:"flex flex-wrap flex-1 gap-2 justify-content-between align-items-center"},Z={class:"flex gap-2"},ee=e("p",null,"Faites glisser et déposez les fichiers ici pour les télécharger.",-1),se={class:"flex items-center justify-center lg:col-span-2"},ne=Object.assign({layout:y},{__name:"RealisationEdit",props:{realisations:Array},setup(x){const i=x,f=F(()=>i.realisations[0]),p=j(null),s=B({image:null,id:i.realisations[0].id,description:i.realisations[0].description}),h=t=>{s.image=t.files},g=t=>{E.post(route("removeOneFile"),{realisation_id:i.realisations[0].id,media_id:t},{})},v=()=>{if(s.description==="")return!1;s.post(route("freelance.editRealisation"),{onFinish:()=>{p.value.removeUploadedFiles(),s.reset("image")},onSuccess:()=>{s.reset("image")},onError:t=>{alert(t.message)}})};return(t,u)=>{const w=a("Textarea"),n=a("Button"),k=a("Toast"),b=a("FileUpload");return m(),r("div",O,[e("div",R,[e("div",null,[e("nav",S,[e("ol",T,[e("li",$,[o(d(z),{href:t.$page.props.urlPrev,class:"inline-flex items-center px-2 text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},{default:c(()=>[A,N]),_:1},8,["href"])]),M])])]),q]),e("div",I,[L,e("div",P,[e("div",D,[o(w,{modelValue:d(s).description,"onUpdate:modelValue":u[0]||(u[0]=l=>d(s).description=l),class:"w-full",rows:"6"},null,8,["modelValue"])]),e("div",null,[e("div",G,[e("div",H,[(m(!0),r(C,null,U(f.value.media,(l,_)=>(m(),r("div",null,[e("div",J,[e("div",K,[e("img",{src:l.url,alt:l.alt,class:"w-24 h-full border rounded-md cursor-pointer lg:w-24 2xl:w-24 hover:opacity-80"},null,8,Q),e("div",W,[o(n,{onClick:te=>g(_),size:"small",outlined:"",icon:"pi pi-trash"},null,8,["onClick"])])])])]))),256))])])]),e("div",X,[o(k),o(b,{auto:!0,onSelect:h,showUploadButton:!1,"show-cancel-button":!1,"file-limit":2,ref_key:"fileUpload",ref:p,multiple:!0,accept:"image/*",maxFileSize:1e7},{header:c(({chooseCallback:l})=>[e("div",Y,[e("div",Z,[o(n,{onClick:_=>l(),icon:"pi pi-images",rounded:"",outlined:""},null,8,["onClick"])])])]),empty:c(()=>[ee]),_:1},512)]),e("div",se,[o(n,{label:"Enregistrer",onClick:v})])])])])}}});export{ne as default};
