import{I as T,L as $,E as y,d as x,T as A,m as d,e as c,b as l,a as e,w as m,u as i,p as I,F as L,j as N,A as O,J as G,q as P,o as p,g as J,z as k,t as W,as as Z,O as H}from"./app-353d923a.js";import{_ as K}from"./UserLayout-11729fd1.js";import"./MainSidebarUser-bc77df60.js";/* empty css                                                          */import"./userInfo-b89e03cb.js";const Q={class:"flex flex-col min-h-screen gap-6 px-4 lg:mx-auto md:p-6 md:max-w-7xl md:container px-auto bg-inherit"},R={class:"flex flex-col"},X={class:"flex","aria-label":"Breadcrumb"},Y={class:"inline-flex items-center space-x-1 md:space-x-3"},ee={class:"inline-flex items-center"},te=e("svg",{class:"w-3 h-3 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),se={"aria-current":"page"},oe=e("svg",{class:"w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1),le=e("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Edit",-1),ie=P('<li aria-current="page"><div class="flex items-center"><svg class="w-3 h-3 mx-1 text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"></path></svg><span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">Mission</span></div></li>',1),ae=e("h1",{class:"mt-4 text-3xl font-bold text-black dark:text-white"},"Mission Modification",-1),ne={class:"flex flex-col mt-4"},re={class:"w-full"},de={class:"w-full mt-4"},ue={class:"mt-4 W-full"},ce={class:"flex flex-col w-full mt-4"},me={class:"flex gap-8"},pe={class:"flex w-full"},fe={class:"flex w-full"},ge={class:"mt-4 mb-4"},ve=e("label",{for:"message",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Exigences",-1),xe={class:"grid mt-6 lg:grid-cols-2"},_e={class:"flex flex-col items-start justify-start py-4"},he={class:"flex flex-wrap mt-4 space-x-2"},be={key:0},we={class:"relative group"},ye={class:"flex flex-wrap items-center"},ke=e("i",{class:"fas fa-file-alt"},null,-1),Ve={class:"absolute top-0 right-0 mt-2 mr-2"},Ce={key:1,class:"flex-flex-wrap"},Me={class:"relative group"},je=["src"],Ue={class:"absolute top-0 right-0 mt-2 mr-2"},Se={class:"lg:col-span-1 card"},ze={class:"flex flex-wrap flex-1 gap-2 justify-content-between align-items-center"},De={class:"flex gap-2"},qe=e("p",null,"Glissez et déposez les fichiers ici pour les uploader.",-1),Be={class:"flex px-6 lg:justify-end py-8 lg:items-end"},Ee={class:"relative inline-flex items-center cursor-pointer"},Fe=e("div",{class:"w-14 h-7 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Te=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Afficher",-1),$e={class:"flex gap-6 justify-center mt-4"},Ae=e("p",null," Êtes-vous sûr de vouloir supprimer cette mission ? Veuillez noter que si vous avez déjà accepté une proposition pour cette mission, il sera impossible de la supprimer. Si vous êtes sûr, cliquez sur ‘Confirmer’. Sinon, cliquez sur ‘Annuler’ ",-1),Ie={class:"flex gap-6 justify-center mt-4"},Je=Object.assign({layout:K},{__name:"MissionMod",props:{mission:Object},setup(V){const a=V,g=T(),C=$(),M=y(()=>C.categoriesGet.categories),u=x(!1),j=y(()=>a.mission.data),o=A({id:a.mission.data.id,title:a.mission.data.title,exigence:a.mission.data.exigences,description:a.mission.data.description,dateD:a.mission.data.begin_mission,dateF:a.mission.data.end_mission,budget:a.mission.data.budget,category_id:a.mission.data.category.id,mission_id:a.mission.data.id,image:null,masquer:a.mission.data.masquer}),U=()=>{o.post(route("deleteMission"),{onError:n=>{g.add({severity:"info",summary:"Message",detail:n.message,group:"br",life:1e3})}})},S=()=>{o.post(route("missionEdit"),{onSuccess:()=>{g.add({severity:"info",summary:"Message",detail:"Mission modifier",group:"br",life:1e3})},onError:n=>{console.log(n)}})},_=n=>{H.post(route("removeFileMission"),{file_index:n,mission_id:a.mission.data.id},{preserveScroll:!0,onSuccess:()=>{o.image=null,g.add({severity:"info",summary:"Message",detail:"Photo supprimer",group:"br",life:1e3})}})},z=()=>{};x(1),x("");const D=n=>{o.image=n.files},q=n=>{let t=["jpg","jpeg","png","gif","bmp"],f=n.split(".").pop().toLowerCase();return t.includes(f)};return(n,t)=>{const f=d("Toast"),h=d("InputText"),b=d("Textarea"),B=d("Dropdown"),w=d("Calendar"),r=d("Button"),E=d("FileUpload");return p(),c("div",Q,[l(f,{position:"bottom-right",group:"br"}),e("div",R,[e("div",null,[e("nav",X,[e("ol",Y,[e("li",ee,[l(i(k),{href:n.route("user.dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},{default:m(()=>[te,J(" Dashboard ")]),_:1},8,["href"])]),e("li",se,[l(i(k),{href:n.route("user.missions"),class:"flex items-center"},{default:m(()=>[oe,le]),_:1},8,["href"])]),ie])])]),ae]),e("div",null,[e("form",{onSubmit:t[10]||(t[10]=I(s=>S(),["prevent"])),class:"p-4 mt-2 border border-gray-100 rounded-md min-h-72"},[e("div",ne,[e("div",re,[l(h,{id:"name",required:"",modelValue:i(o).title,"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).title=s),autofocus:"",class:"w-full",placeholder:"Titre"},null,8,["modelValue"])]),e("div",de,[l(b,{modelValue:i(o).description,"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).description=s),rows:"4",cols:"10",class:"w-full",placeholder:"Decrivez votre mission.data.."},null,8,["modelValue"])]),e("div",ue,[l(B,{modelValue:i(o).category_id,"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).category_id=s),optionValue:"id",options:M.value,showClear:"",optionLabel:"name",placeholder:"Categories",class:"!w-full"},null,8,["modelValue","options"])])]),e("div",ce,[e("div",me,[e("div",pe,[l(w,{modelValue:i(o).dateD,"onUpdate:modelValue":t[3]||(t[3]=s=>i(o).dateD=s),class:"w-full",placeholder:"Date debut"},null,8,["modelValue"])]),e("div",fe,[l(w,{modelValue:i(o).dateF,"onUpdate:modelValue":t[4]||(t[4]=s=>i(o).dateF=s),class:"w-full",inputId:"birth_date",placeholder:"Date Fin"},null,8,["modelValue"])])]),e("div",ge,[ve,l(b,{id:"message",modelValue:i(o).exigence,"onUpdate:modelValue":t[5]||(t[5]=s=>i(o).exigence=s),rows:"4",cols:"10",class:"w-full",placeholder:"Exigences pour la mission"},null,8,["modelValue"])]),e("div",null,[l(h,{id:"name",type:"text",class:"block w-full mt-1",required:"",placeholder:"Budget",modelValue:i(o).budget,"onUpdate:modelValue":t[6]||(t[6]=s=>i(o).budget=s)},null,8,["modelValue"])])]),e("div",xe,[e("div",_e,[e("div",he,[(p(!0),c(L,null,N(j.value.files,(s,v)=>(p(),c("div",null,[q(s)?(p(),c("div",Ce,[e("div",Me,[e("img",{src:"/storage/"+s,alt:"Product Name",class:"w-16 h-full border rounded-md cursor-pointer lg:w-24 2xl:w-24 hover:opacity-80"},null,8,je),e("div",Ue,[l(r,{onClick:F=>_(v),size:"small",outlined:"",icon:"pi pi-trash"},null,8,["onClick"])])])])):(p(),c("div",be,[e("div",we,[e("div",ye,[e("p",null,W(s.name),1),ke]),e("div",Ve,[l(r,{onClick:F=>_(v),size:"small",outlined:"",icon:"pi pi-trash"},null,8,["onClick"])])])]))]))),256))])]),e("div",Se,[l(f),l(E,{auto:!0,onSelect:D,onUpload:t[7]||(t[7]=s=>z()),multiple:!0,accept:"image/*",maxFileSize:1e6},{header:m(({chooseCallback:s})=>[e("div",ze,[e("div",De,[l(r,{onClick:v=>s(),icon:"pi pi-images",rounded:"",outlined:""},null,8,["onClick"])])])]),empty:m(()=>[qe]),_:1})])]),e("div",Be,[e("div",null,[e("label",Ee,[O(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=s=>i(o).masquer=s),class:"sr-only peer"},null,512),[[G,i(o).masquer]]),Fe,Te])])]),e("div",$e,[e("div",null,[l(r,{type:"submit",label:"Modifier",outlined:""})]),e("div",null,[l(r,{type:"button",label:"Effacer",severity:"danger",onClick:t[9]||(t[9]=s=>u.value=!u.value),outlined:""})])])],32)]),l(i(Z),{visible:u.value,"onUpdate:visible":t[13]||(t[13]=s=>u.value=s),modal:"",header:"Confirmation",style:{width:"40rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:m(()=>[Ae,e("div",Ie,[e("div",null,[l(r,{onClick:t[11]||(t[11]=s=>U()),type:"button",label:"Confirmer",outlined:""})]),e("div",null,[l(r,{type:"button",label:"Annuler",severity:"danger",onClick:t[12]||(t[12]=s=>u.value=!u.value),outlined:""})])])]),_:1},8,["visible"])])}}});export{Je as default};
