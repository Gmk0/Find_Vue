import{D as E,I,y as w,T as N,d as b,A as d,e as r,b as i,a as e,w as p,u as l,l as $,F as z,j as L,p as O,o as c,g as q,q as y,t as A,O as P}from"./app-211ec483.js";import{_ as G}from"./UserLayout-47bfbdff.js";import"./MainSidebarUser-8a21f6c9.js";/* empty css                                                          */import"./userInfo-a5293e16.js";const W={class:"flex flex-col min-h-screen gap-6 px-4 lg:mx-auto md:p-6 md:max-w-7xl md:container px-auto bg-inherit"},Z={class:"flex flex-col"},H={class:"flex","aria-label":"Breadcrumb"},J={class:"inline-flex items-center space-x-1 md:space-x-3"},K={class:"inline-flex items-center"},Q=e("svg",{class:"w-3 h-3 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),R={"aria-current":"page"},X=e("svg",{class:"w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1),Y=e("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Edit",-1),ee=O('<li aria-current="page"><div class="flex items-center"><svg class="w-3 h-3 mx-1 text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"></path></svg><span class="ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400">Mission</span></div></li>',1),te=e("h1",{class:"mt-4 text-3xl font-bold text-black dark:text-white"},"Mission Modification",-1),se={class:"flex flex-col mt-4"},oe={class:"w-full"},le={class:"w-full mt-4"},ie={class:"mt-4 W-full"},ae={class:"flex flex-col w-full mt-4"},ne={class:"flex gap-8"},de={class:"flex w-full"},re={class:"flex w-full"},ce={class:"mt-4 mb-4"},me=e("label",{for:"message",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Exigences",-1),ue={class:"grid mt-6 lg:grid-cols-2"},pe={class:"flex flex-col items-start justify-start py-4"},_e={class:"flex flex-wrap mt-4 space-x-2"},ge={key:0},fe={class:"relative group"},xe={class:"flex flex-wrap items-center"},he=e("i",{class:"fas fa-file-alt"},null,-1),ve={class:"absolute top-0 right-0 mt-2 mr-2"},we={key:1,class:"flex-flex-wrap"},be={class:"relative group"},ye=["src"],Ve={class:"absolute top-0 right-0 mt-2 mr-2"},ke={class:"lg:col-span-1 card"},Ce=e("p",null,"Drag and drop files to here to upload.",-1),De={class:"flex justify-center mt-4"},Te=Object.assign({layout:G},{__name:"MissionMod",props:{mission:Object},setup(V){const a=V,_=E(),k=I(),C=w(()=>k.categoriesGet.categories),D=w(()=>a.mission.data),o=N({title:a.mission.data.title,exigence:a.mission.data.exigences,description:a.mission.data.description,dateD:a.mission.data.begin_mission,dateF:a.mission.data.end_mission,budget:a.mission.data.budget,category_id:a.mission.data.category.id,mission_id:a.mission.data.id,image:null}),M=()=>{o.post(route("missionEdit"),{onSuccess:()=>{_.add({severity:"info",summary:"Message",detail:"Mission modifier",group:"br",life:1e3})},onError:n=>{console.log(n)}})},g=n=>{P.post(route("removeFileMission"),{file_index:n,mission_id:a.mission.data.id},{preserveScroll:!0,onSuccess:()=>{o.image=null,_.add({severity:"info",summary:"Message",detail:"Photo supprimer",group:"br",life:1e3})}})},U=()=>{};b(1),b("");const B=n=>{o.image=n.files},F=n=>{let t=["jpg","jpeg","png","gif","bmp"],m=n.split(".").pop().toLowerCase();return t.includes(m)};return(n,t)=>{const m=d("Toast"),f=d("InputText"),x=d("Textarea"),S=d("Dropdown"),h=d("Calendar"),u=d("Button"),T=d("FileUpload");return c(),r("div",W,[i(m,{position:"bottom-right",group:"br"}),e("div",Z,[e("div",null,[e("nav",H,[e("ol",J,[e("li",K,[i(l(y),{href:n.route("user.dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},{default:p(()=>[Q,q(" Dashboard ")]),_:1},8,["href"])]),e("li",R,[i(l(y),{href:n.route("user.missions"),class:"flex items-center"},{default:p(()=>[X,Y]),_:1},8,["href"])]),ee])])]),te]),e("div",null,[e("form",{onSubmit:t[8]||(t[8]=$(s=>M(),["prevent"])),class:"p-4 mt-2 border border-gray-100 rounded-md min-h-72"},[e("div",se,[e("div",oe,[i(f,{id:"name",required:"",modelValue:l(o).title,"onUpdate:modelValue":t[0]||(t[0]=s=>l(o).title=s),autofocus:"",class:"w-full",placeholder:"Titre"},null,8,["modelValue"])]),e("div",le,[i(x,{modelValue:l(o).description,"onUpdate:modelValue":t[1]||(t[1]=s=>l(o).description=s),rows:"4",cols:"10",class:"w-full",placeholder:"Decrivez votre mission.data.."},null,8,["modelValue"])]),e("div",ie,[i(S,{modelValue:l(o).category_id,"onUpdate:modelValue":t[2]||(t[2]=s=>l(o).category_id=s),optionValue:"id",options:C.value,showClear:"",optionLabel:"name",placeholder:"Categories",class:"!w-full"},null,8,["modelValue","options"])])]),e("div",ae,[e("div",ne,[e("div",de,[i(h,{modelValue:l(o).dateD,"onUpdate:modelValue":t[3]||(t[3]=s=>l(o).dateD=s),class:"w-full",placeholder:"Date debut"},null,8,["modelValue"])]),e("div",re,[i(h,{modelValue:l(o).dateF,"onUpdate:modelValue":t[4]||(t[4]=s=>l(o).dateF=s),class:"w-full",inputId:"birth_date",placeholder:"Date Fin"},null,8,["modelValue"])])]),e("div",ce,[me,i(x,{id:"message",modelValue:l(o).exigence,"onUpdate:modelValue":t[5]||(t[5]=s=>l(o).exigence=s),rows:"4",cols:"10",class:"w-full",placeholder:"Exigences pour la mission"},null,8,["modelValue"])]),e("div",null,[i(f,{id:"name",type:"text",class:"block w-full mt-1",required:"",placeholder:"Budget",modelValue:l(o).budget,"onUpdate:modelValue":t[6]||(t[6]=s=>l(o).budget=s)},null,8,["modelValue"])])]),e("div",ue,[e("div",pe,[e("div",_e,[(c(!0),r(z,null,L(D.value.files,(s,v)=>(c(),r("div",null,[F(s)?(c(),r("div",we,[e("div",be,[e("img",{src:"/storage/"+s,alt:"Product Name",class:"w-16 h-full border rounded-md cursor-pointer lg:w-24 2xl:w-24 hover:opacity-80"},null,8,ye),e("div",Ve,[i(u,{onClick:j=>g(v),size:"small",outlined:"",icon:"pi pi-trash"},null,8,["onClick"])])])])):(c(),r("div",ge,[e("div",fe,[e("div",xe,[e("p",null,A(s.name),1),he]),e("div",ve,[i(u,{onClick:j=>g(v),size:"small",outlined:"",icon:"pi pi-trash"},null,8,["onClick"])])])]))]))),256))])]),e("div",ke,[i(m),i(T,{auto:!0,onSelect:B,onUpload:t[7]||(t[7]=s=>U()),multiple:!0,accept:"image/*",maxFileSize:1e6},{empty:p(()=>[Ce]),_:1})])]),e("div",De,[i(u,{type:"submit",label:"Modifier",outlined:""})])],32)])])}}});export{Te as default};
